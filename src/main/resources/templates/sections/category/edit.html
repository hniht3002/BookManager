<html xmlns:th="http://www.thymeleaf.org" xmlns:layout = "https://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate = "~{layout}"
>
<div layout:fragment = "content">

  <div class="ms-3 col-8 mt-3 mb-3">
    <form class="d-flex gap-3" th:action="@{/category/update}" method="POST" th:object = "${current}">
      <div class="">
        <input type="text" class="form-control" id="category" placeholder="Add new category" th:field="*{name}" th:value = "*{name}">
      </div>
      <button type="submit" class="btn btn-primary">Add</button>
    </form>
  </div>

  <div class="ms-3">
    <div class ="row gx-4">
      <table class="table">
        <thead>
        <tr>
          <th scope="col">Id</th>
          <th scope="col">Category</th>
          <th scope="col">Action</th>
        </tr>
        </thead>
        <tbody>

        <tr th:each="category : ${categories}">
          <th scope="row" th:text="${category.id}"></th>
          <td th:text="${category.name}"></td>
          <td>
            <a th:href="'/category/edit?id=' + ${category.id}" type="button" class="btn btn-success">
              <i class="fa-solid fa-pen-to-square"></i>
            </a>
            <a th:href="'/category/delete?id=' + ${category.id}" type="button" class="btn btn-danger">
              <i class="fa-solid fa-trash"></i>
            </a>
          </td>
        </tr>
      </table>
    </div>
  </div>
</div>
</html>